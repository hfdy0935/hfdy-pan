/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{c as T}from"./calc-CYjR0slx.js";import{_ as D,a as B,b as A}from"./blank.vue_vue_type_script_setup_true_lang-I__VKkcy.js";import{a as f,O as s}from"./menuData-BfYzelEX.js";import{s as h}from"./index-CdIjDISF.js";import{d as x,o as r,a as d,ap as c,ao as u,e as E,an as I,aY as p,aG as o,ah as F,c as g,av as L,by as U}from"./arco-design-vue-wpZPvk8Z.js";import"./index.vue_vue_type_script_setup_true_lang-MDeg8KDO.js";/* empty css              *//* empty css              */import"./file-CTjv8ooS.js";import"./useFolderLevelTree-BY3VF7JM.js";import"./index-DeLZq7_u.js";import"./index-DvwZTHc2.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./share-BzanW0kV.js";import"./useBreadcrumb-DDMjDaLE.js";import"./arco-design-vue-icon-S64ufJhU.js";/* empty css              */import"./useEditFileName-BxV89-wi.js";const $={class:"min-h-14 flex items-center"},P={key:1,class:"min-w-36 ml-3"},R={key:2,class:"w-full text-center"},q={key:3,class:"mx-4"},N=x({__name:"index",props:{column:{},record:{},rowIndex:{}},setup(_){const{query:i}=h(f());return(e,y)=>(r(),d("td",null,[c(B,null,{default:u(()=>[E("div",$,[e.column.dataIndex==="name"?(r(),I(D,{key:0,item:e.record,"name-style":{marginLeft:"6px"},"input-width":160},null,8,["item"])):e.column.dataIndex==="updateTime"?(r(),d("div",P,p(e.record[e.column.dataIndex]),1)):e.column.dataIndex==="index"?(r(),d("div",R,p((o(i).page-1)*o(i).pageSize+e.rowIndex+1),1)):(r(),d("span",q,p(e.column.dataIndex==="size"&&e.record.mediaType!=="folder"?o(T)(e.record[e.column.dataIndex]):e.record[e.column.dataIndex]),1))])]),_:1})]))}}),ge=x({__name:"list-layout",setup(_){const{itemList:i,query:e,contextmenuItem:y,selectedIds:m}=h(f());F(()=>{e.value.page=1});const k=[{title:"序号",dataIndex:"index",width:60},{title:"文件名",dataIndex:"name"},{title:"修改时间",dataIndex:"updateTime",ellipsis:!0,sortable:{sortDirections:["ascend","descend"],sorter:!0}},{title:"大小",dataIndex:"size",sortable:{sortDirections:["ascend","descend"],sorter:!0}}],S=g(()=>i.value.records.map(a=>({...a,key:a.id}))??[]),v=(a,t)=>{switch(a){case"updateTime":e.value.orderByUpdateTime=t==="ascend"?s.ASC:t==="descend"?s.DESC:s.DEFAULT;break;case"size":e.value.orderBySize=t==="ascend"?s.ASC:t==="descend"?s.DESC:s.DEFAULT;break}},w=g(()=>{var a;return{total:(a=i.value)==null?void 0:a.total,current:e.value.page,pageSize:e.value.pageSize,showPageSize:!0}}),C=a=>{const{key:t,...l}=a;y.value={...l}};return(a,t)=>{const l=U;return r(),I(l,{columns:k,class:"my-3",scroll:{x:700},data:o(S),hoverable:"",onPageChange:t[0]||(t[0]=n=>o(e).page=n),onPageSizeChange:t[1]||(t[1]=n=>o(e).pageSize=n),pagination:o(w),"row-selection":{type:"checkbox",showCheckedAll:!0},onRowContextmenu:C,onSorterChange:v,"selected-keys":o(m),"onUpdate:selectedKeys":t[2]||(t[2]=n=>L(m)?m.value=n:null)},{td:u(({column:n,record:z,rowIndex:b})=>[c(N,{column:n,record:z,rowIndex:b},null,8,["column","record","rowIndex"])]),empty:u(()=>[c(A)]),_:1},8,["data","pagination","selected-keys"])}}});export{ge as default};
